<div class="main">
  <div class="container-fluid">

    <app-page-header></app-page-header>

    <section id="main-content">
      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <button (click)="openEmployeeCreationModal()" class="btn-flat btn btn-primary flat-icon">
              <i class="fa fa-plus"></i>
            </button>
            <div class="table-manager-top">
              <div class="showing-number">
                <label for="select-showing">Afficher</label>
                <select id="select-showing">
                  <option>15</option>
                  <option>20</option>
                </select>
              </div>
              <div class="table-action-buttons"></div>
              <div class="searchbar">
                <label for="search-input">Rechercher</label>
                <input [(ngModel)]="searchedName" (ngModelChange)="retrieveEmployees()" id="search-input" type="search"/>
              </div>
            </div>
            <app-loading-container
              *ngIf="isLoading || hasFailedLoading"
              [isLoading]="isLoading"
              [hasFailedLoading]="hasFailedLoading"
              (onReloadData)="reloadData()"
            ></app-loading-container>
            <div class="table-responsive" *ngIf="!isLoading && !hasFailedLoading">
              <table class="table table-striped">
                <thead>
                <tr>
                  <th>#</th>
                  <th>Noms & Prénoms</th>
                  <th>Email</th>
                  <th>Téléphone</th>
                  <th>Nombre d'applications</th>
                  <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let employee of employees">
                  <td>{{1}}</td>
                  <td>{{employee?.user?.names}}</td>
                  <td>{{employee?.user?.email}}</td>
                  <td>{{employee?.user?.phone_number}}</td>
                  <td>{{applicationsOdd(employee?.applications)}}</td>
                  <td>
                    <button class="btn btn-success"><i class="ti-eye"></i></button>
                    <button class="btn btn-primary"><i class="ti-pencil"></i></button>
                    <button class="btn btn-danger"><i class="ti-trash"></i></button>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
          <!-- /# card -->
        </div>
        <!-- /# column -->
      </div>
      <!-- /# row -->

      <app-footer></app-footer>
    </section>
  </div>
</div>
<app-modal-employee-creation></app-modal-employee-creation>
